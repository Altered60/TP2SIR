/*C3*/SET SCHEMA PUBLIC
drop table Chauffage if exists
drop table Department if exists
drop table EE if exists
drop table Employee if exists
drop table Person if exists
drop table Residence if exists
create table Chauffage (id bigint generated by default as identity (start with 1), residence_id bigint, primary key (id))
create table Department (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table EE (id bigint generated by default as identity (start with 1), conso integer not null, residence_id bigint, primary key (id))
create table Employee (id bigint generated by default as identity (start with 1), name varchar(255), department_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), mail varchar(255), nom varchar(255), prenom varchar(255), primary key (id))
create table Residence (id bigint generated by default as identity (start with 1), nbpieces integer not null, taille integer not null, person_id bigint, primary key (id))
alter table Chauffage add constraint FKDA13F066105A4A51 foreign key (residence_id) references Residence
alter table EE add constraint FK8A0105A4A51 foreign key (residence_id) references Residence
alter table Employee add constraint FK4AFD4ACE6DA3A503 foreign key (department_id) references Department
alter table Residence add constraint FKF60C7AE66E6BAEA3 foreign key (person_id) references Person
INSERT INTO PERSON VALUES(1,'js@gmail.com','smith','john')
INSERT INTO RESIDENCE VALUES(1,2,45,1)
INSERT INTO RESIDENCE VALUES(2,5,120,1)
COMMIT
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
